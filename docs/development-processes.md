# Процессы разработки

## Оглавление

1. [Именование Merge Request](#именование-merge-request)
2. [Оформление описания коммита](#оформление-описания-коммита)
3. [Подготовка Merge Request](#подготовка-merge-request)
4. [Ревью Merge Request](#ревью-merge-request)

## Именование Merge Request

Для обеспечения согласованности и корректной работы инструментов автоматизации (включая релизного бота), необходимо придерживаться следующих правил именования:

- **Заголовок задачи в трекере** должен начинаться с префикса `Frontend:` и содержать краткое описание сути задачи. **Пример:** `Frontend: Создание документации кода`.
- **Название ветки в Git** должно соответствовать правилам [semantic release](https://github.com/semantic-release/semantic-release) и включать идентификатор задачи в скобках. **Пример:** `feat(PLATFORM-9449)`. Также, в описании коммита нужно указать название ветки и что было сделано. **Пример:** `feat(PLATFORM-9449): добавлен конфигурационный файл`.
- **Merge Request в GitLab** создаётся с использованием имени ветки, в качестве имени MR, и заголовка задачи, в качестве описания MR. **Пример:** `feat(PLATFORM-9449): Создание документации кода`.

## Оформление описания коммита

В описании коммита необходимо указать:

- тип изменения (в соответствии с методологией [semantic release](https://github.com/semantic-release/semantic-release)),
- название ветки (в формате `<type>(<TASK-ID>)`),
- краткое описание внесённых изменений.

**Пример:**

```bash
feat(PLATFORM-9449): добавлен конфигурационный файл
```

## Подготовка Merge Request

- [ ] Проверено соблюдение всех соглашений по [код-стайлу](./code-style.md) проекта.
- [ ] Реализованная функциональность учитывает [особенности проекта](./project-features.md).
- [ ] Выполнена команда `npm run stage`; все выявленные ошибки устранены.
- [ ] Выполнена команда `npm run start`; продакшен-сборка запускается без ошибок.

## Ревью Merge Request

### Основные шаги

Код-ревью — ключевая инженерная практика для поддержания стабильности и читаемости кодовой базы. В команде применяется система кросс-ревью: для мержда в ветку master необходимо два одобрения (от одного разработчика и тимлида). Процесс ревью включает следующие шаги:

1. Первый цикл ревью выполняет разработчик (участник команды), оставляя комментарии по коду.
2. Далее ревью проводит тимлид, также оставляя замечания.
3. Автор MR вносит необходимые изменения и повторно отправляет код на ревью.
4. Цикл повторяется до получения финального апрува.

### Система меток в комментариях к коммитам

В процессе ревью кода используется система меток для обозначения типа и критичности оставленного комментария. Каждая метка указывается **в начале комментария**, чтобы разработчику было проще ориентироваться в замечаниях и правильно расставлять приоритеты при их обработке.

Поддерживаемые метки:

- **Вопрос** — используется для уточнения причин выбора конкретного решения.
- **Улучшение** — применяется при предложениях готового кода с улучшенной читаемостью, производительностью или архитектурой.
- **Предложение** — обозначает альтернативный подход к решению задачи, как правило, на концептуальном уровне.
- **Нужно исправить** — указывает на фактические ошибки или нарушения принятых стандартов, которые обязательно необходимо устранить.
- **Обсудить** — используется, если требуется синхронизация команды (например, созвон), чтобы обсудить спорный или комплексный момент.
- **Прочее** — используется, если комментарий не относится к вышеперечисленным пунктам.

### Чек-лист

Ниже приведён чек-лист, предназначенный для ревьюера. Некоторые пункты могут быть опущены по согласованию с командой, однако систематическое соблюдение требований улучшает общее качество проекта.

- [ ] Коммиты оформлены в соответствии с принятыми правилами. Заголовок содержит номер задачи.
- [ ] Разработчик прокомментировал нетривиальные решения, узкие места и потенциальные риски.
- [ ] Код написан понятно, имена переменных и функций соответствуют соглашениям команды.
- [ ] В браузере не возникает неожиданных ошибок. В случае известных ограничений — они описаны в [особенностях проекта](./project-features.md).
- [ ] При наличии обоснованных замечаний к подходам, автор должен учесть их в текущем и будущих изменениях. Важно проанализировать возможные методологические проблемы и предложить решения.
- [ ] **Вы ознакомились с логикой кода, понимаете его поведение и готовы поддерживать его в будущем при необходимости.**

### Передача следующему ревьюеру

После завершения текущего этапа ревью необходимо:

- Назначить следующего ревьюера в поле Reviewer в интерфейсе GitLab.
- Уведомить коллегу в командном чате Telegram, в соответствующем разделе.
